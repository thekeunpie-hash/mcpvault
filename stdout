This file is a merged representation of the entire codebase, combined into a single document by Repomix.
The content has been processed where comments have been removed, content has been compressed (code blocks are separated by â‹®---- delimiter).

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Code comments have been removed from supported file types
- Content has been compressed - code blocks are separated by â‹®---- delimiter
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
check_bytes.py
convert.py
create_toml.py
force_clean.py
Hello.md
init.ps1
pyproject.toml
README_CN.md
README_KR.md
README_RU.md
README.md
reinstall.ps1
revert.py
src/mcpv/__init__.py
src/mcpv/__main__.py
src/mcpv/dashboard.py
src/mcpv/main.py
src/mcpv/server.py
src/mcpv/valve.py
src/mcpv/vault.py
validate_toml.py
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="check_bytes.py">
content = f.read(20)
</file>

<file path="convert.py">
GITHUB_PAT = ""  # ì‚¬ìš©ìì˜ PAT (ë¹„ì›Œë‘ë©´ ì‹¤í–‰ ì‹œ ì…ë ¥ë°›ìŒ)
REPO_URL = "https://github.com/thekeunpie-hash/mcpvault"
OUTPUT_FILE = "mcpv_Full_Code.md"
â‹®----
IGNORE_PATTERNS = [
â‹®----
def remove_readonly(func, path, _)
â‹®----
def clone_repo(repo_url, pat, target_dir)
â‹®----
auth_url = repo_url.replace("https://", f"https://{pat}@")
â‹®----
def is_ignored(path, names)
â‹®----
ignored = set()
â‹®----
def merge_files(source_dir, output_file)
â‹®----
file_path = os.path.join(root, file)
relative_path = os.path.relpath(file_path, source_dir)
â‹®----
content = infile.read()
â‹®----
def main()
â‹®----
temp_dir = "temp_repo_clone"
â‹®----
pat = GITHUB_PAT
â‹®----
pat = input("GitHub PATë¥¼ ì…ë ¥í•˜ì„¸ìš”: ").strip()
</file>

<file path="create_toml.py">
content = """[project]
</file>

<file path="force_clean.py">
content = b"""[project]
</file>

<file path="Hello.md">
Hi everyone,
I've been using AI Agents (specifically Antigravity) heavily for coding, but I ran into three major frustrations that I think many of you might recognize:
Infinite Loading: Without GPU, Antigravity went too slow. In my case it went 58s unresponsive per 1 min. 
Context Bloat: The agent keeps requesting the full codebase context repeatedly whenever it loads MCP's, making my MCP servers unresponsive.
Agent/UI Lag: On Windows, the agent responses kept saying "Continue" repeatedly because of 1, 2.
I couldn't find a tool that solved all of this, so I built MCP Vault (mcpv).
ğŸ”— Repo:https://github.com/thekeunpie-hash/mcpvault (MIT Licensed)
ğŸš€ What does it do?
It acts as a "Smart Middleware" between your Agent and your actual tools. It hijacks the mcp_config.json safely and optimizes the traffic.(All of MCPs will be kept exactly identically on C:\Users\[Username]\.gemini\antigravity\mcp_config.original.json)
1. Zero-Latency Startup (Lazy Loading) Instead of scanning files at boot, mcpv starts instantly (<0.1s). It only scans directories when the agent actually requests them. No timeouts on large repos.
2. Smart Context Valve It detects if the agent asks for a massive context dump (like a full repo summary) more than once in a session.
First request: Allowed (Full context provided).
Subsequent requests: Blocked with a "Context already cached" message (only ~20 tokens used). This physically prevents the agent from wasting tokens on duplicate data.
[System Instruction]


Session Start: At the very beginning of the conversation, you MUST call get_initial_context tool immediately. This is your only way to understand the project structure.


Context Management: Do NOT call get_initial_context again in the same session unless the user explicitly asks for a "refresh" with force=True. The proxy will block redundant requests.


File Access: After reading the initial context map, use read_file to inspect specific files needed for the task.
This Antigravity rule needs to be added though.

3. Booster Injection (Windows/Antigravity) It auto-generates an optimized launcher script that:
Forces GPU rasterization & zero-copy flags.
Drops Admin rights (fixes drag-and-drop & UI bugs).
Kills zombie processes on port 26646 automatically.
The shortcut with injected script can be found on the desktop after installation.
ğŸ› ï¸ Tech Stack
Python & uv: Uses uv for clean, isolated virtual environments to prevent dependency hell.
FastMCP: Built on top of the FastMCP framework for speed.
Gateway Pattern: It backs up your original config and routes traffic through the proxy securely.
ğŸ“¦ Installation
It's available on PyPI too.
Bash
pip install mcpv
mcpv install
Currently, it's optimized for Windows and Antigravity, but the core logic (Lazy Loading/Smart Valve) is applicable to any MCP-compliant agent.
I'd love to hear your feedback or feature requests!
</file>

<file path="README_RU.md">
# âš¡ MCP Vault (`mcpv`)

> **Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒÑĞºĞ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ»Ñ AI-Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ²**  
> _"Ğ¡Ğ½Ğ¸Ğ¶Ğ°ĞµÑ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ğ½Ğ° 99%, ÑƒÑÑ‚Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ²Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¸ ÑĞ¾ĞºÑ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Ğ½Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ½Ğ° 90%."_

<div align="center">

![License](https://img.shields.io/badge/License-MIT-blue.svg?style=flat-square)
![Python](https://img.shields.io/badge/Python-3.10+-F7CA3F.svg?style=flat-square&logo=python&logoColor=black)
![Platform](https://img.shields.io/badge/OS-Windows-0078D6.svg?style=flat-square&logo=windows&logoColor=white)
![Status](https://img.shields.io/badge/Status-Accelerated-brightgreen.svg?style=flat-square)

</div>

<div align="right">
  <a href="README.md">ğŸ‡ºğŸ‡¸ English</a> | <a href="README_KR.md">ğŸ‡°ğŸ‡· í•œêµ­ì–´</a> | <a href="README_CN.md">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</a>
</div>

<br>

> [!CAUTION]
> **âš ï¸ ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ (Compatibility Warning)**<br>
> Ğ’ Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ ÑÑ‚Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¢ĞĞ›Ğ¬ĞšĞ ĞĞ¡ **Windows** Ğ¸ Ğ°Ğ³ĞµĞ½Ñ‚Ğ½ÑƒÑ ÑÑ€ĞµĞ´Ñƒ **Antigravity**.

<br>

## â“ ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ `mcpv`?

Ğ’Ñ‹ ĞºĞ¾Ğ³Ğ´Ğ°-Ğ½Ğ¸Ğ±ÑƒĞ´ÑŒ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ»Ğ¸ ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ AI-Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² (Antigravity, Cursor)?
> *"ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ñ‚Ğ°Ğº Ñ‚ÑĞ¶ĞµĞ»Ğ¾?"*  
> *"ĞĞ¿ÑÑ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ»Ğ¾..."*  
> *"ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Ğ½Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ñ‚Ğ°ĞºĞ¸Ğµ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğµ?"*

`mcpv` - ÑÑ‚Ğ¾ Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚. Ğ­Ñ‚Ğ¾ **Ğ¢ÑƒÑ€Ğ±Ğ¾-Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»ÑŒ** Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°.

<br>

### ğŸï¸ ĞÑˆĞµĞ»Ğ¾Ğ¼Ğ»ÑÑÑ‰Ğ°Ñ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ° Ğ² Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

| Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ | ğŸ˜« Ğ‘ĞµĞ· `mcpv` (Ğ”Ğ¾) | âš¡ Ğ¡ `mcpv` (ĞŸĞ¾ÑĞ»Ğµ) | ğŸ“ˆ Ğ­Ñ„Ñ„ĞµĞºÑ‚ |
| :--- | :--- | :--- | :--- |
| **Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ** | ĞĞµÑ‚ GPU, Ğ›Ğ°Ğ³Ğ°ÑÑ‰Ğ¸Ğ¹ UI | **ĞŸÑ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ GPU, ĞŸĞ»Ğ°Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ** | **100x** ĞÑ‰ÑƒÑ‰Ğ°ĞµĞ¼Ğ°Ñ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ |
| **Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°** | ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ 60Ñ+ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ€Ğ°Ğ· | **0.1Ñ ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚** (Lazy Load) | **ĞĞ¾Ğ»ÑŒ** Ğ—Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸ |
| **Ğ Ğ°ÑÑ…Ğ¾Ğ´Ñ‹** | ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ´Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ€Ğ°Ğ· | **ĞĞ²Ñ‚Ğ¾-Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ´ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ‚Ğ¾Ğ²** (Smart Cache) | **90%** Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ |

<br>

---

## âœ¨ 3 ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸

### 1ï¸âƒ£ Ğ˜Ğ½ÑŠĞµĞºÑ†Ğ¸Ñ ÑƒÑĞºĞ¾Ñ€Ğ¸Ñ‚ĞµĞ»Ñ (Booster Injection - Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ)
**"Ğ¡Ğ½ÑÑ‚Ğ¸Ğµ Ğ°Ğ¿Ğ¿Ğ°Ñ€Ğ°Ñ‚Ğ½Ñ‹Ñ… Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¾Ğ¹"**
- **ĞŸÑ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ GPU**: Ğ’Ğ½ĞµĞ´Ñ€ÑĞµÑ‚ ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ñ„Ğ»Ğ°Ğ³Ğ¸ ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ñ Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³Ğ° (`--enable-gpu-rasterization`).
- **ĞĞ±Ñ…Ğ¾Ğ´ Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°**: Ğ¡Ğ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ±Ğ°Ğ³Ğ¾Ğ² drag-and-drop Ğ¸ UI, Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¿Ñ€Ğ°Ğ² (ĞÑˆĞ¸Ğ±ĞºĞ° 740) Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ `RunAsInvoker`.
- **Ğ£Ğ±Ğ¸Ğ¹Ñ†Ğ° Ğ·Ğ¾Ğ¼Ğ±Ğ¸-Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ²**: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ñ‡Ğ¸Ñ‰Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ·Ñ€Ğ°Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹, Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹.

### 2ï¸âƒ£ Ğ£Ğ¼Ğ½Ñ‹Ğ¹ ĞºĞ»Ğ°Ğ¿Ğ°Ğ½ (Smart Valve - Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ğ¾Ğ²)
**"Ğ£Ğ¼Ğ½Ñ‹Ğ¹ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ½Ğ¸Ğº ĞºĞ¾ÑˆĞµĞ»ÑŒĞºĞ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ‚ Ğ·Ğ° Ğ²Ğ°Ñ"**
- ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (`repomix`), ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ°Ğ³ĞµĞ½Ñ‚Ñ‹ Ğ¿Ñ€Ğ¸Ğ²Ñ‹ĞºĞ»Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°Ñ‚ÑŒ.
- **ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ: Ğ Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½** (ĞŸÑ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚).
- **ĞŸĞ¾ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹: Ğ—Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹** ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ĞµĞ¼ **'Already cached'** (10 Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²).
- Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ğµ Ğ±Ğ¾Ğ¼Ğ±Ñ‹ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ².

### 3ï¸âƒ£ ĞŸĞµÑ€ĞµÑ…Ğ²Ğ°Ñ‚ ÑˆĞ»ÑĞ·Ğ° (Gateway Hijacking - Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ)
**"ĞŸĞµÑ€ĞµÑÑ‚Ğ°Ğ½ÑŒÑ‚Ğµ Ğ¼ÑƒÑ‡Ğ¸Ñ‚ÑŒÑÑ ÑĞ¾ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¼Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°Ğ¼Ğ¸"**
- **ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº (Zero-Latency)**: Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ¾Ğ³Ğ´Ğ° Ğ°Ğ³ĞµĞ½Ñ‚ Ğ¸Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµÑ‚. ĞĞµÑ‚ Ñ‚Ğ°Ğ¹Ğ¼Ğ°ÑƒÑ‚Ğ¾Ğ² Ğ½Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸ÑÑ….
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ñ‚ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ MCP Ğ² Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ (Vault).
- ĞÑ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ² `mcp_config.original.json`.
- ĞĞ³ĞµĞ½Ñ‚ Ğ¾Ğ±Ñ‰Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ `mcpv`, Ğ½Ğ¾ Ğ²ÑĞµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¿Ñ€ĞµĞºÑ€Ğ°ÑĞ½Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ² Ñ„Ğ¾Ğ½Ğ¾Ğ²Ğ¾Ğ¼ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ.

<br>

---

## ğŸ› ï¸ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ°Ñ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° (Verified Setup)

ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ MCP-ÑĞµÑ€Ğ²ĞµÑ€Ğ°, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ¼. Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ»ÑƒÑ‡ÑˆÑƒÑ ÑĞ¸Ğ½ĞµÑ€Ğ³Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ñ `mcpv`.

```json
{
  "mcpServers": {
    "rube": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://rube.app/mcp"]
    },
    "open-aware": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://open-aware.qodo.ai/mcp"]
    },
    "context7": {
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp", "--api-key", "PUT_IN_YOUR_API_KEY_HERE"]
    },
    "sequential-thinking": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    },
    "mcp-server-neon": {
      "disabled": false,
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://mcp.neon.tech/sse"],
      "env": {
        "NEON_API_KEY": "NEVERCHANGE_DONT_PUT_IN_ANYTHING_ELSE_THAN_ME_HERE"
      }
    }
  }
}
</file>

<file path="reinstall.ps1">
Stop-Process -Name "python" -Force -ErrorAction SilentlyContinue
Stop-Process -Name "mcpv" -Force -ErrorAction SilentlyContinue

# 1. íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜ (ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ë°ì´íŠ¸)
uv pip install . --system --reinstall


# python -m mcpv install --force
</file>

<file path="revert.py">
BACKUP_FILE = "mcpv_Full_Code.md"
â‹®----
def normalize_content(content)
â‹®----
def restore_if_changed()
â‹®----
lines = f.readlines()
â‹®----
current_file = None
content_lines = []
in_code_block = False
â‹®----
match = file_pattern.match(line)
â‹®----
current_file = match.group(1).strip()
â‹®----
in_code_block = True
â‹®----
backup_content = "".join(content_lines)
â‹®----
# ë¡œì»¬ ê²½ë¡œ ì„¤ì •
full_path = os.path.join(".", current_file)
dir_name = os.path.dirname(full_path)
â‹®----
# í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±
â‹®----
# ë¡œì»¬ íŒŒì¼ ì½ê¸° (ë¹„êµìš©)
local_content = None
â‹®----
local_content = lf.read()
â‹®----
action = "NEW"
â‹®----
action = "UPDATE"
â‹®----
action = "SKIP"
â‹®----
# print(f"ğŸ’¨ [ìŠ¤í‚µ] {current_file}") # ë„ˆë¬´ ë§ìœ¼ë©´ ì£¼ì„ ì²˜ë¦¬
â‹®----
# ìƒíƒœ ì´ˆê¸°í™”
â‹®----
# 4. ì½”ë“œ ë¸”ë¡ ë‚´ë¶€ ë‚´ìš© ìˆ˜ì§‘
</file>

<file path="src/mcpv/__init__.py">

</file>

<file path="src/mcpv/__main__.py">

</file>

<file path="src/mcpv/dashboard.py">

</file>

<file path="src/mcpv/valve.py">
class SmartValve
â‹®----
def __init__(self)
â‹®----
def check(self, force: bool) -> tuple[bool, str]
â‹®----
"You already have the context map. Do not request it again.\n"
"Use 'read_file' for specific details."
</file>

<file path="validate_toml.py">
data = tomllib.load(f)
â‹®----
# Print hex of first 50 bytes
</file>

<file path=".gitignore">
__pycache__/
*.pyc
build/
dist/
*.egg-info/
.venv/
env/
.idea/
.vscode/
.env
upload.ps1
</file>

<file path="pyproject.toml">
[project]
name = "mcpv"
version = "0.2.8"
description = "MCP Vault: Secure Gateway & Booster for Antigravity"
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
    "fastmcp>=0.1.0",
    "mcp>=1.0.0",
    "typer>=0.9.0",
]

[project.scripts]
mcpv = "mcpv.main:app"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
</file>

<file path="README_CN.md">
# âš¡ MCP Vault (`mcpv`)

> **AI ä»£ç† (AI Agents) çš„ç»ˆææ€§èƒ½åŠ é€Ÿå™¨**  
> _"ç³»ç»Ÿå»¶è¿Ÿå‡å°‘ 99%ï¼ŒåŠ è½½æ—¶é—´å½’é›¶ï¼ŒToken æˆæœ¬é™ä½ 90%ã€‚"_

<div align="center">

![License](https://img.shields.io/badge/License-MIT-blue.svg?style=flat-square)
![Python](https://img.shields.io/badge/Python-3.10+-F7CA3F.svg?style=flat-square&logo=python&logoColor=black)
![Platform](https://img.shields.io/badge/OS-Windows-0078D6.svg?style=flat-square&logo=windows&logoColor=white)
![Status](https://img.shields.io/badge/Status-Accelerated-brightgreen.svg?style=flat-square)

</div>

<div align="right">
  <a href="README.md">ğŸ‡ºğŸ‡¸ English</a> | <a href="README_KR.md">ğŸ‡°ğŸ‡· í•œêµ­ì–´</a> | <a href="README_RU.md">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</a>
</div>

<br>

> [!CAUTION]
> **âš ï¸ å…¼å®¹æ€§è­¦å‘Š (Compatibility Warning)**<br>
> ç›®å‰æœ¬é¡¹ç›®ä»…æ”¯æŒ **Windows** æ“ä½œç³»ç»Ÿå’Œ **Antigravity** ä»£ç†ç¯å¢ƒã€‚

<br>

## â“ ä¸ºä»€ä¹ˆé€‰æ‹© `mcpv`ï¼Ÿ

åœ¨ä½¿ç”¨ AI ä»£ç†ï¼ˆAntigravity, Cursorï¼‰æ—¶ï¼Œä½ æ˜¯å¦æœ‰è¿‡è¿™æ ·çš„ä½“éªŒï¼Ÿ
> *"ä¸ºä»€ä¹ˆè¿™ä¹ˆå¡ï¼Ÿ"*  
> *"åˆå¡æ­»äº†..."*  
> *"ä¸ºä»€ä¹ˆ Token è´¹ç”¨è¿™ä¹ˆé«˜ï¼Ÿ"*

`mcpv` ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ã€‚å®ƒæ˜¯ä½ ä»£ç†çš„ **æ¶¡è½®å¼•æ“ (Turbo Engine)**ã€‚

<br>

### ğŸï¸ å‹å€’æ€§çš„æ€§èƒ½å·®å¼‚

| åŠŸèƒ½ | ğŸ˜« æ²¡æœ‰ `mcpv` (Before) | âš¡ å®‰è£… `mcpv` (After) | ğŸ“ˆ æ•ˆæœ |
| :--- | :--- | :--- | :--- |
| **é€Ÿåº¦** | æ—  GPU åŠ é€Ÿï¼ŒUI å¡é¡¿ | **å¼ºåˆ¶ GPU åŠ é€Ÿï¼Œæµç•…** | **100å€** ä½“æ„Ÿæå‡ |
| **åŠ è½½** | æ¯æ¬¡ç­‰å¾… 10ç§’+ | **0.1ç§’ ç¬é—´å¯åŠ¨** (Lazy Load) | **é›¶** ç­‰å¾… |
| **æˆæœ¬** | æ¯æ¬¡å‘é€å…¨éƒ¨ä»£ç  | **è‡ªåŠ¨æ‹¦æˆªé‡å¤é¡¹** (Smart Cache) | **90%** èŠ‚çœ |

<br>

---

## âœ¨ 3å¤§æ ¸å¿ƒåŠŸèƒ½

### 1ï¸âƒ£ Booster Injection (ç‰©ç†åŠ é€Ÿ)
**"ä¸€è¡Œå‘½ä»¤è§£é”ç¡¬ä»¶é™åˆ¶"**
- **å¼ºåˆ¶æ¿€æ´» GPU**: æ³¨å…¥éšè—çš„æ¸²æŸ“åŠ é€Ÿæ ‡å¿— (`--enable-gpu-rasterization`)ã€‚
- **ç»•è¿‡æƒé™é—®é¢˜**: æ”¾å¼ƒç®¡ç†å‘˜æƒé™ä»¥ä¿®å¤æ‹–æ”¾å’Œ UI é”™è¯¯ï¼Œå¹¶ä½¿ç”¨ `RunAsInvoker` ç»•è¿‡çƒ¦äººçš„ç®¡ç†å‘˜æƒé™è¯·æ±‚ (Error 740)ã€‚
- **åƒµå°¸è¿›ç¨‹æ€æ‰‹**: è‡ªåŠ¨æ¸…ç†å ç”¨ç«¯å£çš„å¹½çµè¿›ç¨‹ã€‚

### 2ï¸âƒ£ Smart Valve (æˆæœ¬é˜²å¾¡)
**"ä¸ºä½ çœé’±çš„æ™ºèƒ½é’±åŒ…å«å£«"**
- æ£€æµ‹ä»£ç†ä¹ æƒ¯æ€§è¯·æ±‚çš„å·¨å¤§ä¸Šä¸‹æ–‡æ•°æ® (`repomix`)ã€‚
- **é¦–æ¬¡è¯·æ±‚ï¼šå…è®¸**ï¼ˆæä¾›å®Œæ•´ä¸Šä¸‹æ–‡ï¼‰ã€‚
- **åç»­è¯·æ±‚ï¼šæ‹¦æˆª**ï¼ˆä»…å›å¤ 10 Token çš„ **â€œå·²ç¼“å­˜â€** æ¶ˆæ¯ï¼‰ã€‚
- ç‰©ç†é˜»æ–­æ„å¤–çš„ Token ç‚¸å¼¹ã€‚

### 3ï¸âƒ£ Gateway Hijacking (å®‰å…¨é‡‘åº“)
**"ä¸å†ä¸ºå¤æ‚çš„é…ç½®çƒ¦æ¼"**
- **é›¶å»¶è¿Ÿå¯åŠ¨**ï¼šä»…åœ¨ä»£ç†å®é™…è¯·æ±‚æ—¶æ‰«æç›®å½•ã€‚å¤§ä»£ç åº“ä¹Ÿä¸ä¼šè¶…æ—¶ã€‚
- è‡ªåŠ¨å°†ç°æœ‰çš„å¤æ‚ MCP è®¾ç½®è¿ç§»åˆ°å®‰å…¨çš„é‡‘åº“ (Vault)ã€‚
- åŸå§‹é…ç½®å®‰å…¨å¤‡ä»½è‡³ `mcp_config.original.json`ã€‚
- ä»£ç†åªä¸ `mcpv` å¯¹è¯ï¼Œä½†æ‰€æœ‰å·¥å…·åœ¨åå°éƒ½èƒ½å®Œç¾è¿è¡Œã€‚

<br>

---

## ğŸ› ï¸ ç»è¿‡éªŒè¯çš„æ¨èè®¾ç½® (Verified Setup)

å¼€å‘è€…äº²æµ‹çš„ MCP æœåŠ¡å™¨é…ç½®ã€‚ä¸å…¶ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œ`mcpv` èƒ½å‘æŒ¥æœ€ä½³ååŒæ•ˆåº”ã€‚

```json
{
  "mcpServers": {
    "rube": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://rube.app/mcp"]
    },
    "open-aware": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://open-aware.qodo.ai/mcp"]
    },
    "context7": {
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp", "--api-key", "PUT_IN_YOUR_API_KEY_HERE"]
    },
    "sequential-thinking": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    },
    "mcp-server-neon": {
      "disabled": false,
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://mcp.neon.tech/sse"],
      "env": {
        "NEON_API_KEY": "NEVERCHANGE_DONT_PUT_IN_ANYTHING_ELSE_THAN_ME_HERE"
      }
    }
  }
}
</file>

<file path="README_KR.md">
# âš¡ MCP Vault (`mcpv`)

> **The Ultimate Performance Booster for AI Agents**  
> _"ì‹œìŠ¤í…œ ë ‰ì€ 99% ì¤„ì´ê³ , ë¡œë”©ì€ ì—†ì• ê³ , í† í° ë¹„ìš©ì€ 1/10ë¡œ."_

<div align="center">

![License](https://img.shields.io/badge/License-MIT-blue.svg?style=flat-square)
![Python](https://img.shields.io/badge/Python-3.10+-F7CA3F.svg?style=flat-square&logo=python&logoColor=black)
![Platform](https://img.shields.io/badge/OS-Windows-0078D6.svg?style=flat-square&logo=windows&logoColor=white)
![Status](https://img.shields.io/badge/Status-Accelerated-brightgreen.svg?style=flat-square)

</div>

<div align="right">
  <a href="README.md">ğŸ‡ºğŸ‡¸ English</a> | <a href="README_CN.md">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</a> | <a href="README_RU.md">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</a>
</div>

<br>

> [!CAUTION]
> **âš ï¸ í˜¸í™˜ì„± ì£¼ì˜ (Compatibility Warning)**<br>
> í˜„ì¬ ì´ í”„ë¡œì íŠ¸ëŠ” **Windows** ìš´ì˜ì²´ì œì™€ **Antigravity (ì•ˆí‹°ê·¸ë˜ë¹„í‹°)** ì—ì´ì „íŠ¸ í™˜ê²½ë§Œ ì§€ì›í•©ë‹ˆë‹¤.<br>
> _(Currently, this project ONLY supports **Windows** and **Antigravity**.)_

<br>

## â“ ì™œ `mcpv` ì¸ê°€ìš”?

AI ì—ì´ì „íŠ¸(Antigravity, Cursor)ë¥¼ ì“°ë‹¤ê°€ ì´ëŸ° ê²½í—˜ ì—†ìœ¼ì‹ ê°€ìš”?
> *"ì™œ ì´ë ‡ê²Œ ë¬´ê²ì§€?"*  
> *"ë˜ ë©ˆì·„ë„¤..."*  
> *"í† í° ë¹„ìš©ì´ ì™œ ì´ë ‡ê²Œ ë§ì´ ë‚˜ì™€?"*

`mcpv`ëŠ” ë‹¨ìˆœí•œ ë„êµ¬ê°€ ì•„ë‹™ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì—ì´ì „íŠ¸ë¥¼ ìœ„í•œ **í„°ë³´ ì—”ì§„**ì…ë‹ˆë‹¤.

<br>

### ğŸï¸ ì••ë„ì ì¸ ì„±ëŠ¥ ì°¨ì´

| êµ¬ë¶„ | ğŸ˜« `mcpv` ì—†ìŒ (Before) | âš¡ `mcpv` ì¥ì°© (After) | ğŸ“ˆ íš¨ê³¼ |
| :--- | :--- | :--- | :--- |
| **ì†ë„** | GPU ë¯¸ì‚¬ìš©, UI ë²„ë²…ì„ | **GPU ê°•ì œ ê°€ì†, ì¾Œì í•¨** | **100ë°°** ì²´ê° í–¥ìƒ |
| **ë¡œë”©** | ë§¤ë²ˆ ìˆ˜ì‹­ ì´ˆ ëŒ€ê¸° | **0.1ì´ˆ ì¦‰ì‹œ ì‹¤í–‰** (Lazy Load) | **ëŒ€ê¸°ì‹œê°„ 0ì´ˆ** |
| **ë¹„ìš©** | ë§¤ë²ˆ ì „ì²´ ì½”ë“œ ì „ì†¡ | **ì¤‘ë³µ ìë™ ì°¨ë‹¨** (Smart Cache) | **90%** ì ˆê° |

<br>

---

## âœ¨ 3ê°€ì§€ í•µì‹¬ ë¬´ê¸°

### 1ï¸âƒ£ Booster Injection (ë¬¼ë¦¬ì  ê°€ì†)
**"ëª…ë ¹ì–´ í•œ ì¤„ë¡œ í•˜ë“œì›¨ì–´ ë´‰ì¸ í•´ì œ"**
- **GPU ê°•ì œ í™œì„±í™”**: ìˆ¨ê²¨ì§„ ë Œë”ë§ ê°€ì† í”Œë˜ê·¸(`--enable-gpu-rasterization`)ë¥¼ ì£¼ì…í•©ë‹ˆë‹¤.
- **ê¶Œí•œ ë¬¸ì œ í•´ê²°**: ê´€ë¦¬ì ê¶Œí•œì„ í•´ì œí•˜ì—¬ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë° UI ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ê³ , `RunAsInvoker`ë¡œ ì„±ê°€ì‹  ê¶Œí•œ ìš”ì²­(Error 740)ì„ ìš°íšŒí•©ë‹ˆë‹¤.
- **ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤ í‚¬**: í¬íŠ¸ë¥¼ ì ìœ í•˜ëŠ” ìœ ë ¹ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ì²­ì†Œí•©ë‹ˆë‹¤.

### 2ï¸âƒ£ Smart Valve (ë¹„ìš© ë°©ì–´)
**"ì•Œì•„ì„œ ì•„ê»´ì£¼ëŠ” ë˜‘ë˜‘í•œ ì§€ê°‘ ì§€í‚´ì´"**
- ì—ì´ì „íŠ¸ê°€ ìŠµê´€ì ìœ¼ë¡œ ìš”ì²­í•˜ëŠ” ê±°ëŒ€í•œ ë¬¸ë§¥ ë°ì´í„°(`repomix`)ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.
- **ì²« ë²ˆì§¸ ìš”ì²­: í—ˆìš©** (ì „ì²´ ë¬¸ë§¥ ì œê³µ).
- **ì´í›„ ìš”ì²­: ì°¨ë‹¨** (10 í† í°ì§œë¦¬ **"Already cached"** ë©”ì‹œì§€ ë°˜í™˜).
- ì‹¤ìˆ˜ë¡œ ì¸í•œ í† í° í­íƒ„ì„ ì›ì²œ ë´‰ì‡„í•©ë‹ˆë‹¤.

### 3ï¸âƒ£ Gateway Hijacking (ì•ˆì „í•œ ê¸ˆê³ )
**"ë³µì¡í•œ ì„¤ì •ì€ ì´ì œ ê·¸ë§Œ"**
- **Zero-Latency Startup**: ì—ì´ì „íŠ¸ê°€ ì‹¤ì œë¡œ ìš”ì²­í•  ë•Œë§Œ ë””ë ‰í† ë¦¬ë¥¼ ìŠ¤ìº”í•©ë‹ˆë‹¤. ëŒ€ê·œëª¨ ë ˆí¬ì§€í† ë¦¬ì—ì„œë„ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ê¸°ì¡´ì˜ ë³µì¡í•œ MCP ì„¤ì •ì„ ì•ˆì „í•œ ê¸ˆê³ (Vault)ë¡œ ìë™ ì´ì „í•©ë‹ˆë‹¤.
- ì›ë³¸ ì„¤ì •ì€ `mcp_config.original.json`ì— ì•ˆì „í•˜ê²Œ ë°±ì—…ë©ë‹ˆë‹¤.
- ì—ì´ì „íŠ¸ëŠ” ì•„ë¬´ê²ƒë„ ëª¨ë¥¸ ì±„ `mcpv`ì™€ ëŒ€í™”í•˜ì§€ë§Œ, ëª¨ë“  ë„êµ¬ëŠ” ì™„ë²½í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.

<br>

---

## ğŸ› ï¸ ê²€ì¦ëœ ì¶”ì²œ ì„¸íŒ… (Verified Setup)

ê°œë°œìê°€ ì§ì ‘ ì‚¬ìš© ì¤‘ì¸ ê²€ì¦ëœ MCP ì„œë²„ êµ¬ì„±ì…ë‹ˆë‹¤. `mcpv`ì™€ í•¨ê»˜ ì‚¬ìš©í–ˆì„ ë•Œ ìµœê³ ì˜ ì‹œë„ˆì§€ë¥¼ ëƒ…ë‹ˆë‹¤.

```json
{
  "mcpServers": {
    "rube": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://rube.app/mcp"]
    },
    "open-aware": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://open-aware.qodo.ai/mcp"]
    },
    "context7": {
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp", "--api-key", "PUT_IN_YOUR_API_KEY_HERE"]
    },
    "sequential-thinking": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    },
    "mcp-server-neon": {
      "disabled": false,
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://mcp.neon.tech/sse"],
      "env": {
        "NEON_API_KEY": "NEVERCHANGE_DONT_PUT_IN_ANYTHING_ELSE_THAN_ME_HERE"
      }
    }
  }
}
</file>

<file path="src/mcpv/main.py">
app = typer.Typer()
â‹®----
@app.command()
def start()
</file>

<file path="src/mcpv/server.py">
CONFIG_DIR = Path.home() / ".gemini" / "antigravity"
LOG_DIR = CONFIG_DIR
â‹®----
LOG_FILE = LOG_DIR / "mcpv_debug.log"
ROOT_PATH_FILE = CONFIG_DIR / "root_path.txt"
â‹®----
root_logger = logging.getLogger()
â‹®----
logger = logging.getLogger("mcpv-server")
â‹®----
content = ROOT_PATH_FILE.read_text(encoding="utf-8").strip()
ROOT_DIR = Path(content).resolve()
source = "FILE(root_path.txt)"
â‹®----
ROOT_DIR = Path.cwd().resolve()
source = f"CWD(File Read Error: {e})"
â‹®----
source = "CWD(File Not Found)"
â‹®----
IGNORE_DIRS = {".git", "node_modules", "venv", ".venv", "__pycache__", "dist", "build"}
ALLOWED_EXTENSIONS = {".py", ".js", ".ts", ".md", ".json", ".txt", ".html", ".css", ".java", ".c", ".cpp", ".rs", ".go"}
â‹®----
mcp = FastMCP("mcpv", log_level="DEBUG")
â‹®----
@mcp.tool()
def get_initial_context(force: bool = False) -> str
â‹®----
# CWDê°€ ì´ë¯¸ ë³€ê²½ë˜ì—ˆìœ¼ë¯€ë¡œ ëª…ë ¹ì–´ë§Œ ì‹¤í–‰í•˜ë©´ ë¨
cmd = [
â‹®----
logger.info(f"   in Directory: {os.getcwd()}") # ROOT_DIRê³¼ ë™ì¼í•´ì•¼ í•¨
â‹®----
env = os.environ.copy()
â‹®----
result = subprocess.run(
â‹®----
err_msg = f"Repomix Error (Code {result.returncode}): {result.stderr}"
â‹®----
output_len = len(result.stdout)
â‹®----
@mcp.tool()
async def use_upstream_tool(server_name: str, tool_name: str, args: dict = {}) -> str
â‹®----
"""Routes a command to a specific server in the vault."""
â‹®----
# upstream ì„œë²„ë“¤ë„ ì´ì œ ë³€ê²½ëœ CWD(í”„ë¡œì íŠ¸ ë£¨íŠ¸)ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.
session = await manager.get_session(server_name)
res = await session.call_tool(tool_name, args)
â‹®----
@mcp.tool()
def list_directory(path: str = ".") -> str
â‹®----
full = (ROOT_DIR / path).resolve()
â‹®----
out = []
â‹®----
@mcp.tool()
def read_file(path: str) -> str
</file>

<file path="src/mcpv/vault.py">
StdioServerParameters = Any
â‹®----
HOME_DIR = Path.home()
CONFIG_DIR = HOME_DIR / ".gemini" / "antigravity"
CONFIG_FILE = CONFIG_DIR / "mcp_config.json"
BACKUP_FILE = CONFIG_DIR / "mcp_config.original.json"
ROOT_PATH_FILE = CONFIG_DIR / "root_path.txt"
MY_SERVER_NAME = "mcpv-proxy"
â‹®----
ANTIGRAVITY_PATH = Path(os.environ["LOCALAPPDATA"]) / "Programs" / "Antigravity"
ANTIGRAVITY_EXE = ANTIGRAVITY_PATH / "Antigravity.exe"
BOOSTER_SCRIPT = CONFIG_DIR / "boost_launcher.bat"
â‹®----
class VaultManager
â‹®----
def __init__(self)
â‹®----
def install(self, force: bool = False)
â‹®----
success = self._hijack_config(force)
â‹®----
def _hijack_config(self, force: bool) -> bool
â‹®----
with open(CONFIG_FILE, "r", encoding="utf-8") as f: config = json.load(f)
â‹®----
config = {"mcpServers": {}}
â‹®----
servers = config.get("mcpServers", {})
other_servers = {k: v for k, v in servers.items() if k != MY_SERVER_NAME}
â‹®----
# [í•µì‹¬] í˜„ì¬ ê²½ë¡œ ì €ì¥
current_python = sys.executable
current_cwd = os.getcwd()
â‹®----
my_config = {
â‹®----
def _install_booster(self)
â‹®----
batch_content = f"""@echo off
â‹®----
def _create_shortcut_vbs(self, target, name, icon)
â‹®----
desktop = Path(os.environ["USERPROFILE"]) / "Desktop"
link_path = desktop / f"{name}.lnk"
vbs_script = f'''
vbs_file = CONFIG_DIR / "create_shortcut.vbs"
â‹®----
async def get_session(self, server_name)
â‹®----
with open(BACKUP_FILE, "r") as f: config = json.load(f)
srv = config["mcpServers"].get(server_name)
â‹®----
# [ìˆ˜ì •ë¨] ìƒë¥˜ ì„œë²„ ì‹¤í–‰ ì‹œ CI=true ê°•ì œ ì£¼ì…
upstream_env = os.environ.copy()
â‹®----
cmd = srv["command"]
resolved_cmd = shutil.which(cmd)
â‹®----
resolved_cmd = shutil.which(f"{cmd}.cmd") or shutil.which(f"{cmd}.exe")
â‹®----
final_cmd = resolved_cmd if resolved_cmd else cmd
â‹®----
params = StdioServerParameters(
â‹®----
session = await self.stack.enter_async_context(ClientSession(read, write))
â‹®----
async def cleanup(self)
â‹®----
manager = VaultManager()
</file>

<file path="README.md">
# âš¡ MCP Vault (`mcpv`)

> **The Ultimate Performance Booster for AI Agents**  
> _"Reduce system lag by 99%, eliminate loading times, and cut token costs by 90%."_

<div align="center">

![License](https://img.shields.io/badge/License-MIT-blue.svg?style=flat-square)
![Python](https://img.shields.io/badge/Python-3.10+-F7CA3F.svg?style=flat-square&logo=python&logoColor=black)
![Platform](https://img.shields.io/badge/OS-Windows-0078D6.svg?style=flat-square&logo=windows&logoColor=white)
![Status](https://img.shields.io/badge/Status-Accelerated-brightgreen.svg?style=flat-square)

</div>

<div align="right">
  <a href="README_KR.md">ğŸ‡°ğŸ‡· í•œêµ­ì–´</a> | <a href="README_CN.md">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</a> | <a href="README_RU.md">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</a>
</div>

<br>

> [!CAUTION]
> **âš ï¸ Compatibility Warning**<br>
> Currently, this project ONLY supports **Windows** OS and the **Antigravity** agent environment.

<br>

## â“ Why `mcpv`?

Have you ever felt this while using AI Agents (Antigravity, Cursor)?
> *"Why is it so heavy?"*  
> *"It froze again..."*  
> *"Why are the token costs so high?"*

`mcpv` is not just a tool. It is a **Turbo Engine** for your agent.

<br>

### ğŸï¸ Overwhelming Performance Difference

| Feature | ğŸ˜« Without `mcpv` (Before) | âš¡ With `mcpv` (After) | ğŸ“ˆ Effect |
| :--- | :--- | :--- | :--- |
| **Speed** | No GPU, Laggy UI | **Forced GPU Acceleration, Smooth** | **100x** Perceived Speed |
| **Loading** | Wait 60s+ every time | **0.1s Instant Start** (Lazy Load) | **Zero** Latency |
| **Cost** | Resend full code every time | **Auto-block Duplicates** (Smart Cache) | **90%** Savings |

<br>

---

## âœ¨ 3 Core Features

### 1ï¸âƒ£ Booster Injection (Physical Acceleration)
**"Unlock hardware limits with one line"**
- **Forced GPU Activation**: Injects hidden rendering acceleration flags (`--enable-gpu-rasterization`).
- **Permission Bypass**: Drops Admin rights to fix drag-and-drop & UI bugs, and bypasses permission requests (Error 740) using `RunAsInvoker`.
- **Zombie Process Killer**: Automatically cleans up ghost processes occupying ports.

### 2ï¸âƒ£ Smart Valve (Cost Defense)
**"Smart wallet protector that saves for you"**
- Detects the massive context data (`repomix`) that agents habitually request.
- **First request: Allowed** (Full context provided).
- **Subsequent requests: Blocked** with a 10-token **"Already cached"** message.
- Physically blocks accidental token bombs.

### 3ï¸âƒ£ Gateway Hijacking (Secure Vault)
**"Stop struggling with complex configs"**
- **Zero-Latency Startup**: Only scans directories when the agent actually requests them. No timeouts on large repos.
- Automatically migrates existing complex MCP settings to a secure Vault.
- Original config is safely backed up to `mcp_config.original.json`.
- The agent talks only to `mcpv`, but all tools work perfectly behind the scenes.

<br>

---

## ğŸ› ï¸ Verified Recommended Setup

Verified MCP server configuration used by the developer. It creates the best synergy when used with `mcpv`.

```json
{
  "mcpServers": {
    "rube": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://rube.app/mcp"]
    },
    "open-aware": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://open-aware.qodo.ai/mcp"]
    },
    "context7": {
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp", "--api-key", "PUT_IN_YOUR_API_KEY_HERE"]
    },
    "sequential-thinking": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"]
    },
    "mcp-server-neon": {
      "disabled": false,
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://mcp.neon.tech/sse"],
      "env": {
        "NEON_API_KEY": "NEVERCHANGE_DONT_PUT_IN_ANYTHING_ELSE_THAN_ME_HERE"
      }
    }
  }
}
</file>

<file path="init.ps1">
git add .
git commit -m "Initial commit.............."
git push -u origin main
</file>

</files>
